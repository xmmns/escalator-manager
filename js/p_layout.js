(self.webpackChunkpc_escalator_manager=self.webpackChunkpc_escalator_manager||[]).push([[467],{56988:function(a){a.exports={action:"action--eDvHZw_m",account:"account--MLWm5b41",avatar:"avatar--N2iZbdrS",menu:"menu--XC1jhgbH"}},63916:function(a){a.exports={layout:"layout--ZjOhzyq4"}},34904:function(a,e,t){"use strict";t.r(e),t.d(e,{default:function(){return C}});var n=t(81510),r=t(922),l=t(24335),o=t(79777),c=t(17424);let u=[{name:"\u7535\u68AF\u9879\u76EE\u5217\u8868",path:"/project-list",icon:(0,n.tZ)(o.Z,{})},{name:"\u7528\u6237\u7BA1\u7406",path:"/user-manager",icon:(0,n.tZ)(c.Z,{})}];var s=t(75271),i=t(48298),m=t(87885),p=t(19431),h=t(56988),Z=t.n(h);async function d(){console.log("logout")}var g=t(7996),f=a=>{let{name:e,avatar:t}=a,[,l]=g.Z.useModel("user"),o=async()=>{await d();let a=r.m8?.location?.pathname;r.m8?.push({pathname:"/login",search:a?`redirect=${a}`:""})},c=(0,s.useCallback)(a=>{let{key:e}=a;"logout"===e&&(l.updateCurrentUser({}),o())},[]),u={items:[{key:"logout",label:"\u9000\u51FA\u767B\u5F55",icon:(0,n.tZ)(i.Z,{}),onClick:c,className:Z().menu}]};return(0,n.tZ)(m.Z,{menu:u,children:(0,n.BX)("span",{className:`${Z().action} ${Z().account}`,children:[(0,n.tZ)(p.C,{size:"small",className:Z().avatar,src:t,alt:"avatar"}),(0,n.tZ)("span",{children:e})]})})},v=t.p+"assets/logo.1a29be69.png",b=t(63916),y=t.n(b);function C(){let a=(0,r.TH)(),[e]=g.Z.useModel("user");return["/login"].includes(a.pathname)?(0,n.tZ)(r.j3,{}):(0,n.tZ)(l.ZP,{menu:{defaultOpenAll:!0},className:y().layout,logo:(0,n.tZ)("img",{src:v,alt:"logo"}),title:"\u7535\u68AF\u62A5\u4EF7\u7CFB\u7EDF",location:{pathname:a.pathname},layout:"mix",rightContentRender:()=>(0,n.tZ)(f,{avatar:e.currentUser.avatar,name:e.currentUser.name}),menuDataRender:()=>u,menuItemRender:(a,e)=>a.path?(0,n.tZ)(r.rU,{to:a.path,children:e}):e,children:(0,n.tZ)(r.j3,{})})}}}]);